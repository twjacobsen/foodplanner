.row-fluid
  .span12.page-header
    h1 {{date | date:short}}
    a(ng-href="#/week/{{date}}") Back
    
.row-fluid
  .span12
    form.well.form-inline(style="text-align:center;", ng-submit="getRecipes()")
      .input-append
        input.input-xlarge.typeahead(type="text", placeholder="Start typing recipe...", ng-model="day.recipe")
        button.btn Select recipe
  
  #recipeContainer.hide
    div(ng-show="recipes[0]")
      div(ng-repeat="recipe in recipes")
        a {{recipe.name}}
    div(ng-hide="recipes[0]")
      p Recipe "{{day.recipe}}" does not exist. 
        a(ng-href="#/recipe/{{day.recipe}}") Create the recipe 
        | (
        a(ng-click="explainWhy()") why?
        | ) or 
        a(ng-click="addRecipe()") use this recipe as-is.
        
script
  $('.typeahead').typeahead({
    source : function(typeahead, query){
      if(!query)
        return;
      $.get('/recipes/' + query, function(data){
        typeahead.process(data);
      });
    }
    ,property: 'name'
    ,onselect: function(obj){
      this.$element.closest('form').submit();
    }
  });
